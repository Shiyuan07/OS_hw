#lec9 虚存置换算法spoc练习

## 视频相关思考题

### 9.1 页面置换算法的概念

1. 设计置换算法时需要考虑哪些影响因素？如何评判的好坏？
* 页面的调入调出次数，进程的页面访问规律如访问模式、访问频度
* 记录并统计产生缺页的次数

2. 全局和局部置换算法的不同？
* 局部置换是在当前进程占用的物理页面范围内置换；
* 全局置换是基于不同进程的物理页面需求是不同的，在所有可换出的物理页面范围内置换；


### 9.2 最优算法、先进先出算法和最近最久未使用算法

1. 最优算法、先进先出算法和LRU算法的思路？
* OPT：换出将来最长时间不被访问的页；
* FIFO：换出最先换进的页；
* LRU：换出最长时间未被使用的页。
### 9.3 时钟置换算法和最不常用算法

1. 时钟置换算法的思路？
找到两次缺页之间未被访问的页面进行换出，具体的流程：
将物理帧视为一个环形链表，设置访问位；缺页时，从当前指针位置依次访问页，将经过的页上访问位清0，直到找到一个访问位为0的页，进行换出。访问页或换入页时，将访问位置1。
2. 改进的时钟置换算法与时钟置换算法有什么不同？
增加修改位，与访问位同时工作，以减少缺页处理开销。缺页时直接跳过修改过的页面，可以大幅度节省将页写入内存所需要的时间
3. LFU算法的思路？
统计每个页面过去的访问次数，换出访问次数最少的页。


### 9.4 Belady现象和局部置换算法比较

1. 什么是Belady现象？如何判断一种置换算法是否存在Belady现象？
* 在增加物理可用帧后，缺页次数反而增加。
* 构造反例或证明是栈式置换算法
2. 请证明LRU算法不存在Belady现象。
LRU是栈式置换算法，增加帧前的内存页集合是增加后的子集：如果内存页的集合为最近引用的页，那么对于帧的增加，这n页仍然是最近引用的页，所以也仍然在内存中。
### 9.5 工作集置换算法

1. CPU利用率与并发进程数的关系是什么？
进程数少时，并发进程数增加，首先提高各部件利用率，CPU利用率提高；
达到一定程度后，局部性降低，资源冲突，缺页次数增多，CPU利用率反而降低。
2. 什么是工作集？
工作集：当前进程正在使用的逻辑页面的集合；即当前一段时间t内进程访问的所有逻辑页面的集合。一般设置一个工作窗口，将窗口长度内的逻辑页面视为工作集。
工作集的变化规律：进程开始执行时、工作集稳定期、工作集过渡期
3. 什么是常驻集？
当前时刻进程实际驻留内存的页面集合
4. 工作集算法的思路？
把不在工作集的页面置换到外存。访存时，把不在工作集（时间t内没有访问过的页面）的页面换出；缺页时，换入需要的页面；
### 9.6 缺页率置换算法

1. 缺页率算法的思路？
缺页率是指缺页平均时间间隔的倒数；
思路：通过调整常驻集来保持适度的缺页率。以常用时间T作为判断依据：缺页间隔小于等于T时，直接换入需要访问的页面；缺页间隔大于T时，在换入需要访问的页面的同时换出没有访问过的页面；
### 9.7 抖动和负载控制

1. 什么是虚拟内存管理的抖动现象？
是指由于分配给进程的物理页面太少导致频繁置换，使进程运行速度变慢的现象
2. 操作系统负载控制的最佳状态是什么状态？
平均缺页间隔 = 缺页异常处理时间，即平衡负载
3. 局部置换算法（如FIFO, LRU等）是否能作为全局置换算法来使用？为什么？
不能。进程切换会导致原进程占用的页面全部换出